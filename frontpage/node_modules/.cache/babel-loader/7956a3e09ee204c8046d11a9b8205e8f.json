{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data() {\n    return {\n      page: []\n    };\n  },\n\n  created() {\n    this.loaddata();\n  },\n\n  methods: {\n    loaddata() {\n      this.$http.get('/getApplyInfoForBig').then(res => {\n        this.page = res.data;\n      });\n    },\n\n    formatState(row) {\n      if (row.state == 0) {\n        return '拒绝';\n      } else if (row.state == 1) {\n        return '审核中';\n      } else if (row.state == 2) {\n        return '通过';\n      }\n    },\n\n    formatType(row) {\n      if (row.type == 0) {\n        return '事假';\n      } else if (row.type == 1) {\n        return '年假';\n      } else if (row.type == 2) {\n        return '婚假';\n      } else if (row.type == 3) {\n        return '产检';\n      } else if (row.type == 4) {\n        return '产假';\n      } else if (row.type == 5) {\n        return '哺乳';\n      } else if (row.type == 6) {\n        return '陪产';\n      } else if (row.type == 7) {\n        return '外出';\n      }\n    },\n\n    formatDate(row) {\n      var date = new Date(row.startTime);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return year + '-' + month + '-' + day;\n    },\n\n    formatDate(startTime) {\n      console.log(startTime);\n      var date = new Date(startTime);\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      return year + '-' + month + '-' + day;\n    },\n\n    pass(index, row) {\n      var _this = this;\n\n      this.$http.post('/checkApplyInfo/' + row.applyId + '/2').then(res => {\n        if (res.data) {\n          _this.$message({\n            message: '已通过',\n            type: 'success'\n          });\n\n          _this.loaddata();\n        } else {\n          _this.$message({\n            message: '通过失败',\n            type: 'error'\n          });\n        }\n      });\n    },\n\n    reject(index, row) {\n      var _this = this;\n\n      this.$http.post('/checkApplyInfo/' + row.applyId + '/0').then(res => {\n        if (res.data) {\n          _this.$message({\n            message: '已驳回',\n            type: 'success'\n          });\n\n          _this.loaddata();\n        } else {\n          _this.$message({\n            message: '驳回失败',\n            type: 'error'\n          });\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACAA;AACA;AACAC;AADA;AAGA,GALA;;AAMAC;AACA;AACA,GARA;;AASAC;AACAC;AACA;AACA;AACA,OAFA;AAGA,KALA;;AAMAC;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAdA;;AAeAC;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjCA;;AAkCAC;AACA;AACA;AACA;AACA;AACA;AACA,KAxCA;;AAyCAA;AACAC;AACA;AACA;AACA;AACA;AACA;AACA,KAhDA;;AAiDAC;AACA;;AACA;AACA;AACAC;AACAC,0BADA;AAEAC;AAFA;;AAIAF;AACA,SANA,MAMA;AACAA;AACAC,2BADA;AAEAC;AAFA;AAIA;AACA,OAbA;AAcA,KAjEA;;AAkEAC;AACA;;AACA;AACA;AACAH;AACAC,0BADA;AAEAC;AAFA;;AAIAF;AACA,SANA,MAMA;AACAA;AACAC,2BADA;AAEAC;AAFA;AAIA;AACA,OAbA;AAcA;;AAlFA;AATA","names":["data","page","created","methods","loaddata","formatState","formatType","formatDate","console","pass","_this","message","type","reject"],"sourceRoot":"src/views","sources":["ManageApplyX.vue"],"sourcesContent":["<template>\n    <!-- 总经理审批请假信息 -->\n    <el-table\n        stripe\n        :data=\"page\"\n        border>\n        <el-table-column\n            prop=\"applyId\"\n            label=\"申请序号\">\n            <template slot-scope=\"scope\">\n        <el-popover trigger=\"hover\" placement=\"top\">\n          <p>姓名: {{ scope.row.name }}</p>\n          <p>工号: {{ scope.row.account }}</p>\n          <div slot=\"reference\" class=\"name-wrapper\">\n            <el-tag size=\"medium\">{{ scope.row.applyId }}</el-tag>\n          </div>\n        </el-popover>\n      </template>\n        </el-table-column>\n        <el-table-column\n            label=\"请假日期\"\n            >\n            <template slot-scope=\"scope\">\n        <i class=\"el-icon-time\"></i>\n        <span style=\"margin-left: 10px\">{{ formatDate(scope.row.startTime )}}</span>\n      </template>\n        </el-table-column>\n        <el-table-column\n            prop=\"duringTime\"\n            label=\"请假天数\">\n        </el-table-column>\n        <el-table-column\n            prop=\"type\"\n            label=\"请假类型\"\n            :formatter=\"formatType\"\n            >\n        </el-table-column>\n        <el-table-column label=\"操作\">\n      <template slot-scope=\"scope\">\n        <el-button\n          size=\"mini\"\n          type=\"success\"\n          @click=\"pass(scope.$index, scope.row)\">通过</el-button>\n        <el-button\n          size=\"mini\"\n          type=\"danger\"\n          @click=\"reject(scope.$index, scope.row)\">驳回</el-button>\n      </template>\n    </el-table-column>\n    </el-table>\n</template>\n\n<script>\nexport default{\n    data(){\n        return {\n            page:[]\n        }\n    },\n    created(){\n        this.loaddata();\n    },\n    methods:{\n        loaddata(){\n            this.$http.get('/getApplyInfoForBig').then(res => {\n                this.page = res.data;\n            });\n        },\n        formatState(row){\n            if (row.state == 0) {\n                return '拒绝';\n            } else if (row.state == 1) {\n                return '审核中';\n            } else if (row.state == 2) {\n                return '通过';\n            }\n        },\n        formatType(row){\n            if (row.type == 0) {\n                return '事假';\n            } else if (row.type == 1) {\n                return '年假';\n            } else if (row.type == 2) {\n                return '婚假';\n            } else if (row.type == 3) {\n                return '产检';\n            } else if (row.type == 4) {\n                return '产假';\n            } else if (row.type == 5) {\n                return '哺乳';\n            } else if (row.type == 6) {\n                return '陪产';\n            } else if (row.type == 7) {\n                return '外出';\n            } \n        },\n        formatDate(row){\n            var date = new Date(row.startTime);\n            var year = date.getFullYear();\n            var month = date.getMonth()+1;\n            var day = date.getDate();\n            return year+'-'+month+'-'+day;\n        },\n        formatDate(startTime){\n            console.log(startTime);\n            var date = new Date(startTime);\n            var year = date.getFullYear();\n            var month = date.getMonth()+1;\n            var day = date.getDate();\n            return year+'-'+month+'-'+day;\n        },\n        pass(index, row) {\n            var _this = this;\n            this.$http.post('/checkApplyInfo/'+row.applyId+'/2').then(res => {\n                if (res.data) {\n                    _this.$message({\n                    message: '已通过',\n                    type: 'success'\n                    });\n                    _this.loaddata();\n                } else {\n                    _this.$message({\n                    message: '通过失败',\n                    type: 'error'\n                    });\n                }\n            });\n        },\n        reject(index, row) {\n            var _this = this;\n            this.$http.post('/checkApplyInfo/'+row.applyId+'/0').then(res => {\n                if (res.data) {\n                    _this.$message({\n                    message: '已驳回',\n                    type: 'success'\n                    });\n                    _this.loaddata();\n                } else {\n                    _this.$message({\n                    message: '驳回失败',\n                    type: 'error'\n                    });\n                }\n            });\n        }\n    }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}