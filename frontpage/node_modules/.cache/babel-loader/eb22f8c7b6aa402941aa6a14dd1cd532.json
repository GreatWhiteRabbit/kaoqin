{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data() {\n    return {\n      page: [],\n      seach: {\n        account: '',\n        state: ''\n      }\n    };\n  },\n\n  created() {\n    this.loaddata();\n  },\n\n  methods: {\n    loaddata() {\n      this.$http.get('/queryAllRecords').then(res => {\n        console.log(res.data);\n        this.page = res.data;\n      });\n    },\n\n    formatType(row) {\n      if (row.type == 0) {\n        return '上班打卡';\n      } else if (row.type == 1) {\n        return '下班打卡';\n      } else if (row.type == 2) {\n        return '外出打卡';\n      } else if (row.type == 3) {\n        return '返回打卡';\n      }\n    },\n\n    formatDate(row) {\n      var date = new Date(row.time);\n      var Y = date.getFullYear() + '-';\n      var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n      var D = date.getDate() + ' ';\n      var h = date.getHours() + ':';\n      var m = date.getMinutes() + ':';\n      var s = date.getSeconds();\n      return Y + M + D + h + m + s;\n    },\n\n    search() {\n      this.$http.get('/queryRecordsByActOrType?account=' + this.seach.account + '&type=' + this.seach.state).then(res => {\n        console.log(res.data);\n        this.page = res.data;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACAA;AACA;AACAC,cADA;AAEAC;AACAC,mBADA;AAEAC;AAFA;AAFA;AAOA,GATA;;AAUAC;AACA;AACA,GAZA;;AAaAC;AACAC;AACA;AACAC;AACA;AACA,OAHA;AAIA,KANA;;AAOAC;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjBA;;AAkBAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3BA;;AA4BAC;AACA;AACAH;AACA;AACA,OAHA;AAIA;;AAjCA;AAbA","names":["data","page","seach","account","state","created","methods","loaddata","console","formatType","formatDate","search"],"sourceRoot":"src/views","sources":["AllDaKa.vue"],"sourcesContent":["<template>\n<div>\n    <el-row>\n        <el-form :inline=\"true\" :model=\"seach\" class=\"demo-form-inline\">\n        <el-form-item label=\"员工工号\">\n            <el-input v-model=\"seach.account\" placeholder=\"请输入员工工号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"打卡类型\">\n            <el-select v-model=\"seach.state\" placeholder=\" -- \">\n                <el-option label=\" -- \" value=\"\"></el-option>\n                <el-option label=\"上班打卡\" value=\"0\"></el-option>\n                <el-option label=\"下班打卡\" value=\"1\"></el-option>\n                <el-option label=\"外出打卡\" value=\"2\"></el-option>\n                <el-option label=\"返回打卡\" value=\"3\"></el-option>\n            </el-select>\n        </el-form-item>\n        <el-form-item>\n            <el-button type=\"primary\" @click=\"search\">查询</el-button>\n        </el-form-item>\n        </el-form>\n    </el-row>\n\n    <el-table\n            :data=\"page\"\n            border\n            style=\"width: 100%\"\n            :default-sort = \"{prop: 'time', order: 'descending'}\"\n            >\n        <el-table-column\n            prop=\"name\"\n            label=\"用户名\"\n        >\n        </el-table-column>\n        <el-table-column\n            prop=\"account\"\n            label=\"工号\">\n        </el-table-column>\n        \n        <el-table-column\n            prop=\"time\"\n            label=\"打卡时间\"\n            sortable\n            :formatter=\"formatDate\"\n            >\n        </el-table-column>\n        <el-table-column\n            prop=\"type\"\n            label=\"打卡类型\"\n            :formatter=\"formatType\"\n            >\n        </el-table-column>\n    </el-table>\n</div>\n\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            page:[],\n            seach:{\n                account:'',\n                state:''\n            }\n        }\n    },\n    created() {\n        this.loaddata();\n    },\n    methods: {\n        loaddata() {\n            this.$http.get('/queryAllRecords').then(res => {\n                console.log(res.data);\n                this.page = res.data;\n            });\n        },\n        formatType(row) {\n            if (row.type == 0) {\n                return '上班打卡';\n            } else if (row.type == 1) {\n                return '下班打卡';\n            } else if (row.type == 2) {\n                return '外出打卡';\n            } else if (row.type == 3) {\n                return '返回打卡';\n            }\n        },\n        formatDate(row) {\n            var date = new Date(row.time);\n            var Y = date.getFullYear() + '-';\n            var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n            var D = date.getDate() + ' ';\n            var h = date.getHours() + ':';\n            var m = date.getMinutes() + ':';\n            var s = date.getSeconds();\n            return Y + M + D + h + m + s;\n        },\n        search() {\n            this.$http.get('/queryRecordsByActOrType?account='+this.seach.account+'&type='+this.seach.state).then(res => {\n                console.log(res.data);\n                this.page = res.data;\n            });\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}