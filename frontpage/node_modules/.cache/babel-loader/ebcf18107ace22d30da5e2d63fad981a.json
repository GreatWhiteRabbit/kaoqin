{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    submitClick: function submitClick() {\n      var _this = this;\n\n      if (_this.loginForm.username == '' || _this.loginForm.password == '') {\n        this.$alert('账号或密码不能为空', '提示', {\n          confirmButtonText: '确定'\n        });\n      } else {\n        _this.$http.get('/login');\n\n        _this.$http.get('/login/' + _this.loginForm.username + '/' + _this.loginForm.password).then(function (response) {\n          if (response.data != '') {\n            _this.$alert('登录成功', '提示', {\n              confirmButtonText: '确定'\n            });\n\n            window.sessionStorage.setItem('empId', response.data.empId);\n            window.sessionStorage.setItem('account', response.data.account);\n            window.sessionStorage.setItem('name', response.data.name);\n            window.sessionStorage.setItem('role', response.data.role);\n\n            _this.$router.replace({\n              path: '/home'\n            });\n          } else {\n            _this.$alert('账号或密码错误', '提示', {\n              confirmButtonText: '确定'\n            });\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA;AACAA,MADA,kBACA;AACA;AACAC;AACAC,oBADA;AAEAC;AAFA;AADA;AAMA,GARA;AASAC;AACAC;AACA;;AACA;AACA;AACAC;AADA;AAGA,OAJA,MAIA;AACAC;;AACAA;AACA;AACAA;AACAD;AADA;;AAGAE;AACAA;AACAA;AACAA;;AACAD;AAAAE;AAAA;AACA,WATA,MASA;AACAF;AACAD;AADA;AAGA;AACA,SAfA;AAgBA;AACA;AA1BA;AATA","names":["data","loginForm","username","password","methods","submitClick","confirmButtonText","_this","window","path"],"sourceRoot":"src/views","sources":["login.vue"],"sourcesContent":["<template>\n<div  >\n <el-form class=\"login-container\" label-position=\"left\"\n           label-width=\"0px\" >\n    <h3 class=\"login_title\">考勤系统登录</h3>\n    <el-form-item prop=\"account\">\n      <el-input type=\"text\" v-model=\"loginForm.username\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\n    </el-form-item>\n    <el-form-item prop=\"checkPass\">\n      <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\n    </el-form-item>\n    <el-form-item style=\"width: 100%\">\n      <el-button type=\"primary\" @click.native.prevent=\"submitClick\" style=\"width: 100%\">登录</el-button>\n    </el-form-item>\n  </el-form>\n</div>\n  \n</template>\n<script>\n  export default{\n    data(){\n      return {\n       loginForm:{\n         username:'',\n         password:''\n       }\n      }\n    },\n    methods: {\n      submitClick: function () {\n        var _this = this;\n        if (_this.loginForm.username == ''||_this.loginForm.password == '') {\n          this.$alert('账号或密码不能为空', '提示', {\n            confirmButtonText: '确定',\n          });\n        }else{\n          _this.$http.get('/login')\n          _this.$http.get('/login/'+_this.loginForm.username+'/'+_this.loginForm.password).then(function (response) {\n            if (response.data!='') {\n              _this.$alert('登录成功', '提示', {\n                confirmButtonText: '确定',\n              });\n              window.sessionStorage.setItem('empId',response.data.empId);\n              window.sessionStorage.setItem('account',response.data.account);\n              window.sessionStorage.setItem('name',response.data.name);\n              window.sessionStorage.setItem('role',response.data.role); \n              _this.$router.replace({path: '/home'});   \n            }else{\n              _this.$alert('账号或密码错误', '提示', {\n                confirmButtonText: '确定',\n              });\n            }\n          });\n        }\n      }\n    }\n  }\n</script>\n<style>\n  .back{\n      background-image: url('https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fnimg.ws.126.net%2F%3Furl%3Dhttp%253A%252F%252Fdingyue.ws.126.net%252F2021%252F0627%252F790e81c6j00qvbyrj0015c000n100h2c.jpg%26thumbnail%3D650x2147483647%26quality%3D80%26type%3Djpg&refer=http%3A%2F%2Fnimg.ws.126.net&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1654859419&t=f2e5ec48aa2dace35785e7cce129ca33');\n      /* background-repeat: no-repeat;\n      background-position: center;\n      background-attachment: fixed;\n      background-size: cover;\n      -webkit-background-size: cover;\n      -moz-background-size: cover;\n      -o-background-size: cover; */\n\n    }\n  .login-container {\n    border-radius: 15px;\n    background-clip: padding-box;\n    margin: auto auto;\n    width: 350px;\n    padding: 35px 35px 15px 35px;\n    background: #fff;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cac6c6;\n  }\n\n  .login_title {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n  }\n\n  .login_remember {\n    margin: 0px 0px 35px 0px;\n    text-align: left;\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}